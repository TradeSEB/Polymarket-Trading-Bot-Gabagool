# ============================================================================
# Polymarket Trading Bot - Gabagool Strategy Configuration
# ============================================================================

# === Required Settings ======================================================

# Wallet private key (required for trading)
PRIVATE_KEY=""

# === Network Configuration ==================================================

# EVM chain ID (Polygon mainnet = 137, Amoy testnet = 80002)
CHAIN_ID=137

# Polymarket CLOB API base URL
CLOB_API_URL="https://clob.polymarket.com"

# RPC configuration (optional, will use public RPCs if not set)
# RPC_URL="https://polygon-rpc.com"
# RPC_TOKEN=""

# === Debug & Logging =======================================================

# Enable verbose debug logs
DEBUG="false"

# Optional: capture ALL console output to a file (see src/index.ts).
# LOG_FILE_PATH supports "{date}" placeholder for daily logs.
LOG_DIR="logs"
LOG_FILE_PREFIX="bot"
# LOG_FILE_PATH="logs/bot-{date}.log"

# === Bot Runner Settings ===================================================

# Minimum USDC balance required before bot starts (default: $1)
BOT_MIN_USDC_BALANCE=1

# If "true", waits until the next 15m boundary before starting the bot.
# If "false", starts immediately (useful to resume unfinished hedges from copytrade-state.json).
COPYTRADE_WAIT_FOR_NEXT_MARKET_START="false"

# === Copytrade Bot Behavior =================================================

# Markets to run (comma-separated, e.g., "btc", "eth", "btc,eth")
# Legacy: GABAGOOL_MARKETS (deprecated, use COPYTRADE_MARKETS)
COPYTRADE_MARKETS="btc"
# GABAGOOL_MARKETS="btc"

# Poll interval for tick loop (ms)
# Legacy: GABAGOOL_POLL_MS (deprecated, use COPYTRADE_POLL_MS)
COPYTRADE_POLL_MS=200
# GABAGOOL_POLL_MS=200

# Adaptive polling (adjusts frequency based on activity)
COPYTRADE_ADAPTIVE_POLLING="true"
COPYTRADE_MIN_POLL_MS=100
COPYTRADE_MAX_POLL_MS=2000

# === Buy Settings ===========================================================

# Entry threshold (price below which to start buying)
# Legacy: GABAGOOL_THRESHOLD (deprecated, use COPYTRADE_THRESHOLD)
COPYTRADE_THRESHOLD=0.499
# GABAGOOL_THRESHOLD=0.499

# Number of shares to buy per side
# Legacy: GABAGOOL_SHARES (deprecated, use COPYTRADE_SHARES)
COPYTRADE_SHARES=5
# GABAGOOL_SHARES=5

# Maximum number of buy attempts per side
MAX_BUYS_PER_SIDE=4

# Tick size for orders ("0.01", "0.001", or "0.0001")
# Legacy: GABAGOOL_TICK_SIZE (deprecated, use COPYTRADE_TICK_SIZE)
COPYTRADE_TICK_SIZE="0.01"
# GABAGOOL_TICK_SIZE="0.01"

# === Order Execution Settings ===============================================

# Use FAK (Fill-and-Kill) orders for immediate execution
COPYTRADE_USE_FAK="true"

# Use IOC (Immediate-Or-Cancel) orders (deprecated, use COPYTRADE_USE_FAK instead)
COPYTRADE_USE_IOC="false"

# Don't wait for order confirmation (fire-and-forget mode)
COPYTRADE_FIRE_AND_FORGET="true"

# Price buffer in cents (for faster fills)
COPYTRADE_PRICE_BUFFER=0.03

# Dynamic price buffer (adjusts based on volatility)
COPYTRADE_DYNAMIC_PRICE_BUFFER="true"

# Maximum order age before cancellation (ms)
COPYTRADE_MAX_ORDER_AGE_MS=30000

# === Order Confirmation Settings ============================================

# Initial delay before checking order status (ms)
COPYTRADE_ORDER_CHECK_DELAY_MS=100

# Delay between order status retries (ms)
COPYTRADE_ORDER_RETRY_DELAY_MS=300

# Maximum number of order status check attempts
COPYTRADE_ORDER_MAX_ATTEMPTS=2

# === Hedging Strategy Settings ===============================================

# Maximum sumAvg to maintain profit (stops buying if exceeded)
COPYTRADE_MAX_SUM_AVG=0.98

# Reversal detection delta
REVERSAL_DELTA=0.020

# Percentage of reversalDelta to use in dynamic threshold (default: 50%)
REVERSAL_DELTA_THRESHOLD_PERCENT=0.5

# Dynamic threshold boost (adds boost for more aggressive opposite side buying)
COPYTRADE_DYNAMIC_THRESHOLD_BOOST=0.04

# === Second Side Buy Settings ===============================================

# Buffer for immediate buy of second side after first buy
COPYTRADE_SECOND_SIDE_BUFFER=0.01

# Time threshold for second side buy (ms)
COPYTRADE_SECOND_SIDE_TIME_THRESHOLD_MS=200

# === Depth-Based Buy Settings ===============================================

# Buy if price drops this percentage below tempPrice (0.05 = 5% discount)
COPYTRADE_DEPTH_BUY_DISCOUNT_PERCENT=0.05

# === Risk Management ========================================================

# Maximum drawdown percentage before stopping (0 = disabled)
COPYTRADE_MAX_DRAWDOWN_PERCENT=0

# Minimum balance before stopping (USDC)
COPYTRADE_MIN_BALANCE_USDC=2

# === NegRisk Settings =======================================================

# NegRisk order mode for the bot
# Legacy: GABAGOOL_NEG_RISK (deprecated, use COPYTRADE_NEG_RISK)
COPYTRADE_NEG_RISK="false"
# GABAGOOL_NEG_RISK="false"

# Allowance script uses NEG_RISK for extra approvals
# Keep this consistent with COPYTRADE_NEG_RISK
NEG_RISK="false"

# === State Management =======================================================

# Clean up state older than N days
COPYTRADE_CLEANUP_STATE_DAYS=1

# === Redemption Script Settings =============================================

# Condition ID for manual redemption (used by src/redeem.ts)
# CONDITION_ID=""

# Index sets for manual redemption (comma-separated, used by src/redeem.ts)
# INDEX_SETS="1,2"
